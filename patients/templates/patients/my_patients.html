{% extends "base.html" %}
{% load static %}
{% block title %}–ú–æ–∏ –ø–∞—Ü–∏–µ–Ω—Ç—ã{% endblock %}
{% block content %}

<h2>–ú–æ–∏ –ø–∞—Ü–∏–µ–Ω—Ç—ã</h2>

<!-- –¢–∞–±–ª–∏—Ü–∞ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ -->
<table border="1" cellpadding="10" cellspacing="0" style="width: 100%; border-collapse: collapse;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th>–§–ò–û</th>
      <th>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</th>
      <th>–ü–æ–ª</th>
      <th>–î–∏–∞–≥–Ω–æ–∑</th>
      <th>–í–æ–∑—Ä–∞—Å—Ç</th>
      <th>–î–µ–π—Å—Ç–≤–∏—è</th>
    </tr>
  </thead>
  <tbody>
    {% for patient in patients %}
    <tr>
      <td>{{ patient.full_name }}</td>
      <td>{{ patient.birth_date|date:"d.m.Y" }}</td>
      <td>{{ patient.get_gender_display|default:"‚Äî" }}</td>
      <td>{{ patient.diagnosis|truncatechars:50 }}</td>
      <td>{% if patient.birth_date %}{{ patient.get_age }}{% endif %}</td>
      <td>
        <a href="{% url 'generate_recommendation' patient_id=patient.id %}" class="btn btn-success">üìÑ –ù–∞–ø–µ—á–∞—Ç–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="6" style="text-align:center;">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤</td></tr>
    {% endfor %}
  </tbody>
</table>

<style>
.btn {
    display: inline-block;
    padding: 8px 12px;
    color: white;
    text-decoration: none;
    border-radius: 5px;
}
.btn-success {
    background-color: #28a745;
}
.btn-success:hover {
    background-color: #218838;
}
table {
    width: 100%;
    border-collapse: collapse;
}
td, th {
    border: 1px solid #ccc;
    padding: 10px;
    vertical-align: top;
}
</style>

{% endblock %}